<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>javascript/variable.html</title>
</head> 

<body>
    <h1>Hello</h1>
    <!-- <script src="variable.js"></script> -->
    <script>
        // <데이터 타입>

        // 함수 리턴값 지정 안할 시 기본 리턴값 : undefined
        function myfunc() {
            console.log('myfunc call.');
            //return undefined
        }
        console.log(myfunc());  // 'myfunc call.' / undefined

        // 변수 값 지정 안할시 기본 타입 : undifined.
        let num;
        console.log(num);           // undefined
        console.log(typeof num);    // 'undefined'

        // null값 : object 타입
        num = null;
        console.log(num);           // null
        console.log(typeof num);    // 'onject'

        // 선언하는 시점의 타입 : undefined
        // 값을 넣고 나면 타입 지정됨
        let num1;
        let num2 = null;
        console.log(num1 == num2);  // true
        console.log(num1 === num2); // false

        // null, undefined, '', 0 =>  false
        if (!num1) { // !undefined => true
            console.log('num값은 false 입니다.')
        }

        // parseInt, parseFloat
        num1 = '30';    // 문자열
        console.log(num1, typeof num1); // '30' string

        num1 = parseInt(num1);
        console.log(num1, typeof num1); // 30 'number'

        // 숫자 아닌 문자열값 parse => NaN
        num2 = 'a30';
        num2 = parseInt(num2);
        console.log(num2, typeof num2); // NaN 'number'

        // 삼항 연산자
        let result = 3 > 2 ? 'true' : 'false';
        console.log(result);    // 'true'

        // 논리 연산자
        console.log(!'문자열'); // !(값 있으면 true) => false

        // 비트 연산자
        console.log(12 & 3); // 1100 & 0011 => 0000
        console.log(12 | 3); // 1100 | 0011 => 1111 => 15
        console.log(12 >> 1); // 1100 => 110    =>  6
        console.log(12 << 2); // 1100 => 110000 =>  48

        // 반복문
        // for of : 배열의 요소값
        let friends = [{ name: '라이언', age: 5 }, { name: '어피치', age: 4 }]; // 객체
        for (let friend of friends) {
            console.log(friend);
            console.log('이름 : ' + friend.name + ', 나이 : ' + friend.age);
        }

        // for in : 객체의 속성값
        for (let prop in friends[0]) {
            console.log(prop);
            console.log('속성 : ' + prop + ', 값 : ' + friends[0][prop]);
        }

        // forEach(function(요소, 인덱스, 배열){});
        friends[friends.length] = { name: '콘', age: 2 };
        friends[friends.length] = { name: '무지', age: 3 };
        console.log(friends);
        friends.forEach(function (friend, idx, friendsAry) {
            // if(friend['age'] > 3){
            // if(idx % 2 == 0){
            if (idx == friendsAry.length - 1) {
                console.log(friend, idx, friendsAry);
            }
        });

        // 테이블 만들기 (DOM)
        // table
        let show = document.createElement('div');
        show.setAttribute('id', 'show');

        let tbl = document.createElement('table');
        tbl.setAttribute('border', 1);

        let thd = document.createElement('thead');
        let tbd = document.createElement('tbody');
        tbd.setAttribute('id', 'list');

        document.querySelector('body').appendChild(show);
        show.appendChild(tbl);
        tbl.appendChild(thd);
        tbl.appendChild(tbd);

        // thead
        let tr = document.createElement('tr');
        for (let prop in friends[0]) {
            let th = document.createElement('th');
            th.innerText = prop;
            tr.appendChild(th);
        }
        thd.append(tr);

        // // tbody
        // for (let friend of friends) {
        //     if (friend.age > 3) {
        //         tr = document.createElement('tr');
        //         let td = document.createElement('td');
        //         td.innerText = friend.name;
        //         tr.appendChild(td);
        //         td = document.createElement('td');
        //         td.innerText = friend.age;
        //         tr.appendChild(td);
        //         tbd.appendChild(tr);
        //     }
        // }
        
        // 교수님 답안
        let tlist = document.querySelector('#list');
        friends.forEach(makeFriend);

        function makeFriend(friend, idx, friendsAry){
            if(friend['age'] > 3){
                let tr = document.createElement('tr');
                for(let prop in friend){
                    let td = document.createElement('td');
                    td.innerText = friend[prop];
                    tr.appendChild(td);
                }
                tlist.appendChild(tr);
            }
        }
    </script>
</body>

</html>